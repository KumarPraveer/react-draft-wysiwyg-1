{"version":3,"sources":["components/EditorConvertToHTML.jsx","index.js"],"names":["EditorConvertToHTML","props","onEditorStateChange","editorState","setState","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","state","this","className","onClick","console","log","draftToHtml","convertToRaw","getCurrentContent","wrapperClassName","editorClassName","Component","uploadImageCallBack","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","data","FormData","append","send","addEventListener","response","JSON","parse","responseText","error","App","render","document","getElementById"],"mappings":"yTAuDeA,E,kDAhDb,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IAcRC,oBAAsB,SAACC,GACrB,EAAKC,SAAS,CACZD,iBAfF,IACME,EAAeC,IADR,kEAEb,GAAID,EAAc,CAChB,IAAME,EAAeC,eAAaC,qBAChCJ,EAAaK,eAETP,EAAcQ,cAAYC,kBAAkBL,GAClD,EAAKM,MAAQ,CACXV,eAVa,S,0CAqBnB,WAAU,IACAA,EAAgBW,KAAKD,MAArBV,YACR,OACE,sBAAKY,UAAU,KAAf,UACE,wBACEC,QAAS,kBACPC,QAAQC,IACNC,IAAYC,uBAAajB,EAAYkB,wBAH3C,oBASA,cAAC,SAAD,CACElB,YAAaA,EACbmB,iBAAiB,eACjBC,gBAAgB,cAChBrB,oBAAqBY,KAAKZ,6B,GAvCFsB,aCGlC,SAASC,EAAoBC,GAC3B,OAAO,IAAIC,SACT,SAACC,EAASC,GACR,IAAMC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQ,iCACjBF,EAAIG,iBAAiB,gBAAiB,2BACtC,IAAMC,EAAO,IAAIC,SACjBD,EAAKE,OAAO,QAASV,GACrBI,EAAIO,KAAKH,GACTJ,EAAIQ,iBAAiB,QAAQ,WAC3B,IAAMC,EAAWC,KAAKC,MAAMX,EAAIY,cAChCzB,QAAQC,IAAIqB,GACZX,EAAQW,MAEVT,EAAIQ,iBAAiB,SAAS,WAC5B,IAAMK,EAAQH,KAAKC,MAAMX,EAAIY,cAC7BzB,QAAQC,IAAIyB,GACZd,EAAOc,SAOenB,Y,IAyCxBoB,EAAM,kBACV,gCACE,0EACA,cAAC,EAAD,QAIJC,iBAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.34e64e63.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport htmlToDraft from \"html-to-draftjs\";\r\nimport \"tachyons\";\r\nclass EditorConvertToHTML extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const html = \"<p>Hey this is <strong>Praveer</strong> Kumar ðŸ˜€</p>\";\r\n    const contentBlock = htmlToDraft(html);\r\n    if (contentBlock) {\r\n      const contentState = ContentState.createFromBlockArray(\r\n        contentBlock.contentBlocks\r\n      );\r\n      const editorState = EditorState.createWithContent(contentState);\r\n      this.state = {\r\n        editorState,\r\n      };\r\n    }\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div className=\"tc\">\r\n        <button\r\n          onClick={()=>\r\n            console.log(\r\n              draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n            )\r\n          }\r\n        >\r\n          Submit\r\n        </button>\r\n        <Editor\r\n          editorState={editorState}\r\n          wrapperClassName=\"demo-wrapper\"\r\n          editorClassName=\"demo-editor\"\r\n          onEditorStateChange={this.onEditorStateChange}\r\n        />\r\n\r\n        {/* {console.log(\r\n          draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n        )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditorConvertToHTML;\r\n","import React, {Component} from 'react';\r\nimport { render } from 'react-dom';\r\nimport {EditorState} from \"draft-js\";\r\nimport {Editor} from \"react-draft-wysiwyg\";\r\nimport './App.css'\r\nimport EditorConvertToHTML from './components/EditorConvertToHTML';\r\n\r\n\r\n\r\nfunction uploadImageCallBack(file) {\r\n  return new Promise(\r\n    (resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('POST', 'https://api.imgur.com/3/image');\r\n      xhr.setRequestHeader('Authorization', 'Client-ID ##clientid###');\r\n      const data = new FormData();\r\n      data.append('image', file);\r\n      xhr.send(data);\r\n      xhr.addEventListener('load', () => {\r\n        const response = JSON.parse(xhr.responseText);\r\n        console.log(response)\r\n        resolve(response);\r\n      });\r\n      xhr.addEventListener('error', () => {\r\n        const error = JSON.parse(xhr.responseText);\r\n        console.log(error)\r\n        reject(error);\r\n      });\r\n    }\r\n  );\r\n}\r\n\r\n\r\nclass EditorContainer extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n    };\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    // console.log(editorState)\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  render(){\r\n    const { editorState } = this.state;\r\n    return <div className='editor'>\r\n\r\n      <Editor\r\n        editorState={editorState}\r\n        onEditorStateChange={this.onEditorStateChange}    \r\n        toolbar={{\r\n          inline: { inDropdown: true },\r\n          list: { inDropdown: true },\r\n          textAlign: { inDropdown: true },\r\n          link: { inDropdown: true },\r\n          history: { inDropdown: true },\r\n          image: { uploadCallback: uploadImageCallBack, alt: { present: true, mandatory: true } },\r\n        }}\r\n      />\r\n\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst App = () => (\r\n  <div>\r\n    <h2>React Wysiwyg Rich Editor Using Draft.js</h2>\r\n    <EditorConvertToHTML />\r\n  </div>\r\n);\r\n\r\nrender(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}